/*! angular-retina - v0.3.1 - 2015-01-14
* https://github.com/jrief/angular-retina
* Copyright (c) 2015 Jacob Rief; Licensed MIT */
!function(a){"use strict";var b="@2x",c=/^data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,d=/.*/,e=a.module("ngRetina",[]).config(["$provide",function(a){a.decorator("ngSrcDirective",["$delegate",function(a){return a[0].compile=function(){},a}])}]);e.provider("ngRetina",function(){this.setInfix=function(a){b=a},this.setPattern=function(a){d=new RegExp(a)},this.$get=a.noop}),e.directive("ngSrc",["$window","$http",function(a,e){function f(a){var c=a.split("/"),d=c.pop(),e=d.split(".");return e.length<2?a+b:(e[e.length-2]+=b,c.push(e.join(".")),c.join("/"))}var g=parseInt((/msie (\d+)/.exec(a.navigator.userAgent.toLowerCase())||[])[1],10),h=function(){var b="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";return a.devicePixelRatio>1?!0:a.matchMedia&&a.matchMedia(b).matches}();return function(b,i,j){function k(a){j.$set("src",a),g&&i.prop("src",a)}function l(b){if(d.test(b))return void k(b);var c=a.sessionStorage.getItem(b);c?k(c):(c=f(b),e.head(c).success(function(){k(c),a.sessionStorage.setItem(b,c)}).error(function(){k(b),a.sessionStorage.setItem(b,b)}))}j.$observe("ngSrc",function(b){b&&(h&&"object"==typeof a.sessionStorage&&"IMG"===i[0].tagName&&!b.match(c)?l(b):k(b))})}}])}(window.angular);